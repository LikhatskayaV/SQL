SQL

>**База данных (БД)** — система хранения данных в упорядоченном виде.  
*это имеющая название совокупность данных, которая отражает состояние объектов и их отношений в рассматриваемой предметной области*  

>**СУБД** - система управления БД, программа с помощью которой можно создавать, наполнять и просматривать БД.

Популярные СУБД — PostgreSQL, MySQL, Microsoft SQL Server, SQLite, MongoDB, Redis, Oracle Database. Базы данных отличаются от СУБД тем, что сами по себе представляют лишь файл на компьютере. Базы данных не умеют ничего делать с этими данными — только хранить. А вот СУБД уже предоставляют возможности по манипуляции ими.

примеры типов данных:
строка, число, boolean, объект, массив, null, date/time, binary, files, и т.д..

**БД    бывают:  реляционные(SQL)  &  нереляционные(NoSQL)** 
---
>**Реляционные БД**  - это базы, где связанная информация, представленная в виде двумерных таблиц (например, Postgres, Mysql, Oracle и др.).
реляция это и есть отношения, существуют механизмы установления связей между таблицами. Делается это с помощью так называемых первичных и внешних ключей.

**реляция устанавливает связи между таблицами**

**???что делает реляция, для чего эта реляция, что она значит эта связь???** 
взаимоотношения 
когда ты указываешь отношения между таблицами, эти отношения делаются для того чтобы невозможно было заполнить таблицы мусорными данными, потому что потом такие данные ломают всю логику, тк их сложно читить и "выщемлмвать", они  будут давать ошибки, дешевле указать взаимосвязи между таблицами и настроить бизнеслогику так чтобы они работали(с)


Таблицы: колонки+строки

**РБД используют  язык SQL - язык запросов в реляционную БД**
*SQL (structured query language) - язык структурированных запросов, который позволяет работать с данными 
(найти, изменить, удалить или создать) в реляционной базе данных (БД).*

- у каждой строки есть уникальный ID
- primary key - идентификатор строки в текущей таблице
- foreign key - ссылка на строку во внешней таблице
- иногда используем состовной ключ (compositive) - из нескольких атрибутов (доки 1ого и того же типа с одними и теми же данными не существуют)

**Связи между таблицами**
- one-to-one(1 к 1)  
когда 1 значению может принадлежать только 1 значение из другой таблицы  
прим.: страна <-> президент  
- one-to-many(1 к многим)
одной стране принадлежит много городов  
прим.: страна -> город  
- many-to-many
в стране могут быть несколько языков, и эти языки могут относится и к другим странам
прим.: страна <-> язык, зп <-> должность

> **Нормализация БД** - это процесс удаления избыточных данных. 
Используют, для 
 - минимизации повторяющихся данных;
 - для избавления от аномалий( если в 1ой таблице чтото поменяли а в другой нет)
 - +к производительности
 - +к удобству управлению данными  
 > Нормальная форма БД - это набор правил и критерий которым должна отвечать БД.
БД можно назвать приведенной к нормальной форме если она соответствует первым 3м NF(норм.формам)

**1NF**
- нет дублирующих строк_________
- в ячейке атомарное(неделимое) значение-----[Belarus, +375] ---правильно [Belarus][+375]
- в столбце данные 1ого типа [350 c четвертью]--- integer[350.25]
- отсутствуют массивы и списки ---[мяч, кукла]

**2NF**
- 1NF
- строки имеют PRIMARY KEY
- каждый его неключевой атрибут неприводимо зависим от первичного ключа.

**3NF**
- 2NF
- нет транзиктивной зависимости, когда неключевые столбцы зависят от значений других неключевых столбцов
(в одной таблице данные о клиентах или ДР надо выделить их и объеденить в отдельную таблицу)

***Денормализация БД*** используют когда с бекэнда приходит запрос по каким-то конкретным данным, сервер ищет по всем таблицам
(Сервис для крупных тех компаний)

**NoSQL - нереляционные БД**
реляционные(SQL) vs. нереляционные(NoSQL)
| реляционные(SQL)       | нереляционные(NoSQL) |
|-------------|------------|
|таблицы	      |форма JSON документов |
|столбцы       |  нет нормализации   |
|строки        |        |
|ключи |      |
|связи между таблицами one-to-one, one-to-many, many-to-many||
|1 тип данных для 1 столбца|данные любого типа|
|есть определенная схема| Schemaless (без схемы, тк в JSON  можем закинуть что угодно)|
|Используют SQL|Используют свои подходы, язык,API|
|разные СУБД - PostgreSQL, MySQL, Oracle DB, MS SQL Server|разные СУБД - MongoDB,  Oracle NoSQL Database, Redis, Amazon DynamoDB|
 
**СУБД - система управления БД, программа с помощью которой можно создавать, наполнять и просматривать БД.**  
PostgreSQL  
MySQL  
Oracle DB  
MS SQL Server  

**Программа для управления БД (GUI клиент)**  
DBeaver  
Navicat  
HeidiSQL  


 
        
 Практика SQL 
      

SQL (structured query language) - 
язык структурированных запросов, который позволяет работать с данными 
(найти, изменить, удалить или создать) в реляционной базе данных (БД).

|DDL (Data Definition Language)|DML (Data Manipulation Language)|DQL (Data  Query  Language)|DCL (Data Control Language)|TCL (Transaction Control Language)|
|---|---|---|---|---|
|работа со структурой БД|работы с данными таблиц||работа с правами|работа с транзакциями|
|CREATE, ALTER, DROP, TRUNCATE|INSERT, UPDATE-Обновление данных строки в таблице.DELETE-Удаление строки из таблицы. SELECT-Просмотр данных из таблицы. + операторы условия, группировки, сортировки, объединения и агрегатные функции. DISTINCT-Возвращает значения без повторений.WHERE-Условие фильтрации записей при выборе данных. LIKE-Поиск значения по совпадению с выражением в столбце. AND, OR, BETWEEN. Оператор «И», «Или», «Между». ORDER BY ASC, DESC. Сортировка в порядке возрастания (asc) или убывания (desc). GROUP BY. Группировка столбцов. HAVING-Используется для фильтрации по условию, когда есть группировка. SUM, MAX, MIN, AVG. Сумма значений, максимальное, минимальное, среднее значение. JOIN-Объединение двух таблиц.|SELECT|GRANT, REVOKE|COMMIT, ROLLBACK, SAVEPOINT, SET TRANSACTION|


### как тестировать БД
доступы установка

На самом деле тестирование базы данных может включать в себя множество проверок таких как:

Схема

Таблицы базы данных

Столбцы

Ключи и индексы

Хранимые процедуры

Триггеры

Проверка сервера базы данных

Проверка дублирования данных


### доп. инфа

Soft Delete - не удалять из БД, а поставить статус DELETED (возможно через доп.колонку)
Hard Delete - удалить на совсем

GDPR - общий регламент по защите данных(юзер обращается, надо удалить)

Индекс БД - INDEX
объект БД, создаваемый с целью повыщения скорости поиска данных
(таблица с юзерами и их полом, надо ввывести всех Саш с полом М из 10000000000000000000 пользователей)
для ускорения, создается индекс(для первичного ключа по умолчанию) для поля имена, и таким образом поиск ускоряется, системе не надо бежать по всем строкам

BackUp - резервная копия, для отката к последней сохраненной версии (настраивается разрабом)




